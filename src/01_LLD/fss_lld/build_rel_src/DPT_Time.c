/*****************************************************************************/
/* Copyrights (C) 20xx - 20xx FORD Motors                                    */
/* All right reserved                                                        */
/*****************************************************************************/
/* MODULE   DPT_Time.c                                                       */
/*****************************************************************************/
/* BASE MODULE                                                               */
/*****************************************************************************/
/* VERSION 0.0.1         PROJECT (FORD)                                      */
/*****************************************************************************/
/* PURPOSE                                                                   */
/*   Target specific initialization code                                     */
/*****************************************************************************/
/* FUNCTIONS FORD function prototypes                                        */
/*                                                                           */
/*****************************************************************************/
/* REMARKS                                                                   */
/*                                                                           */
/*****************************************************************************/
/* CHANGES                                                                   */
/* ID          dd.mm.yyyy    Name             Description                    */
/* ---         -----------   -----------      ---------------------          */
/* [1.0.0]      10/23/2023    Sivaprasath         Created                    */
/*****************************************************************************/


/* Inclusion of Platform_Types.h and Compiler.h */
#include "Std_Types.h"

#include "IfxScu_reg.h"
#include "IfxStm_reg.h"
#include "IfxSrc_reg.h"
/* Include Mcal.h to import the library functions */
#include "Mcal.h"

/* Include Mcal_Irq.h to import the library functions */
#include "Irq.h"

/* Include Test_Time.h  */
#include "DPT_Time.h"


/*******************************************************************************
**                      Imported Compiler Switch Checks                       **
*******************************************************************************/

/*******************************************************************************
**                      Private Macro Definitions                             **
*******************************************************************************/


/*******************************************************************************
**                      Private Type Definitions                              **
*******************************************************************************/


/******************************************************************************
**                      Private Function Declarations                         **
*******************************************************************************/


/*******************************************************************************
**                      Global Constant Definitions                           **
*******************************************************************************/


/*******************************************************************************
**                      Global Variable Definitions                           **
*******************************************************************************/


/*******************************************************************************
**                      Private Constant Definitions                          **
*******************************************************************************/


/*******************************************************************************
**                      Private Variable Definitions                          **
*******************************************************************************/


/*******************************************************************************
**                      Private Function Definitions                          **
*******************************************************************************/


/*******************************************************************************
**                      Global Function Definitions                           **
*******************************************************************************/

/*******************************************************************************
** Syntax           : void Timer_DelayTicks(uint32 ReqTimeTicks)              **
**                                                                            **
** Service ID       : none                                                    **
**                                                                            **
** Sync/Async       : Synchronous                                             **
**                                                                            **
** Reentrancy       : non - reentrant                                         **
**                                                                            **
** Parameters(in)   : none                                                    **
**                                                                            **
** Parameters (out) : none                                                    **
**                                                                            **
** Return value     : none                                                    **
**                                                                            **
** Description      : This function introduces a delay of ReqTimeTicks in     **
**                    STM Timer Ticks                                         **
*******************************************************************************/

void Timer_DelayTicks(uint32 ReqTimeTicks)
{
  volatile uint32 ReadStm;
  uint32 Delay_Compare_Count ;
    
  Delay_Compare_Count = ReqTimeTicks + STM0_TIM0.U;

  ReadStm = STM0_TIM0.U;

  while( Delay_Compare_Count >= ReadStm)
  {
    ReadStm = STM0_TIM0.U;
  }
}
